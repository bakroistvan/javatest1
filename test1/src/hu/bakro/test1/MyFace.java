package hu.bakro.test1;

import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;
import javax.imageio.ImageIO;

//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : TiliToli
//  @ File Name : MyFace.java
//  @ Date : 2014.05.04.
//  @ Author : Bakró Nagy István
//
//

public class MyFace {
	private BufferedImage _pic;
	private BufferedImage[][] _ims;
	private final int _xNum;
	private final int _yNum;
	private final int _sidePixel;
	
	/**
	 *
	 * @param    path       kep eleresi cime
	 * @param    xNum
	 * @param    yNum
	 * @param    sidePixel  feldarabolt elemek szelessege pixelben.
	 * @throws IOException 
	**/
	public MyFace(String path, int xNum, int yNum, int sidePixel) throws IOException {
		_pic = ImageIO.read(new File(path)); 
		_ims = new BufferedImage[xNum][yNum];
		_xNum = xNum;
		_yNum = yNum;
		_sidePixel = sidePixel;
		
		slicing();
	}
	
	/**
	 * Adott elem kep-reszletenek visszaadasa.
	 *
	 * @param    x
	 * @param    y
	**/
	public BufferedImage getFace(int x, int y) {
		return _ims[x][y];
	}
	
	/**
	 * A kirakando kep megvaltoztatasa.
	 *
	 * @param    path
	 * @throws IOException 
	**/
	public void changePic(String path) throws IOException {
		_pic = ImageIO.read(new File(path));
		slicing();
	}
	
	/**
	 * Kep feldarabolasa az elemeknek.
	**/
	public void slicing() {
		for(int xx = 0; xx < _xNum; xx++) {
			for(int yy = 0; yy < _yNum; yy++) {
				_ims[xx][yy] = _pic.getSubimage(_sidePixel * xx, _sidePixel * yy, _sidePixel, _sidePixel);
			}
		}
	}
}
